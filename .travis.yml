sudo: false
jdk:
  - oraclejdk8
language: android
android:
  components:
  - tools
  - android-22
  - build-tools-23.0.3
  - extra-google-google_play_services
  - extra-google-m2repository
  - extra-android-m2repository
  licenses:
  - android-sdk-license-[0-9a-f]{8}
script: ./gradlew clean assemble lint
deploy:
  provider: releases
  api_key:
    secure: Ze3W3H4AqGpdV6aEb+DPLwkF10tHpLRfUasaY02cKd6G4cupkXlFxmFy2rJiEsodkZtOyt2T+yaOrL6hevDSsA+ycGdl2WsK5oilTiSVsm11Xdqk9F+Ek+GupNh0gwZNd4IqXkhdm085r9yXqooKnblw8KI6wfLVZ4TcuvNw4xA=
  file:
  - ./LuasTimes/build/outputs/apk/LuasTimes-debug.apk
  - ./LuasTimes/build/outputs/apk/LuasTimes-release.apk
  skip_cleanup: true
  on:
    repo: baz8080/LuasTimesDroid
    tags: true
before_install:
- openssl aes-256-cbc -K $encrypted_338cfeec668d_key -iv $encrypted_338cfeec668d_iv -in enc.tgz.enc -out enc.tgz -d
- tar zxf enc.tgz
env:
  global:
  - secure: AdT+w9znWrkVLci5zzulDEwkAzeCEQtXLiOJbWGfuViJD9hZb+Iby7V2WesroskHsrqUFItGoLoItzYZMrhAIrX6d/P9ZxwTwRqVy/gdx/6bL0LQG+cQCPfvUhCznj1VR6WKeevN07y9BKUl8Piv6bdhy27q/BjNGWrUlFFYgwc=
  - secure: CvEZolyUwMOcu7EnlxlItTKhdUKiY8QUIexxugtXYgypadEBnhz3BcMWpCV+uNy9rq6dP0FOg6UH5M5gpCUj+DtR687UNVSnPh/yZWC9Pp3gAg9zYDzTbgo6908PqZNAWsO9u7t1vesRzMXQHoheBF0Dm7rXRIJqnFQ5hipZamw=
